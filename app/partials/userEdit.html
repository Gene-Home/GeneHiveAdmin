
<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
  <div class="page-header">
    <h2><a href="" ng-click="clearMessages;listUsers()">Users</a></h2>
    <h3>{{user.username}}</h3>
  <div class="row">
   
    </div>
        <div ng-show="successMessage" class="alert alert-success">
          {{successMessage}}
    </div>
    <div ng-show="errorMessage" class="alert alert-danger">
          {{errorMessage}}
    </div>
    <form role="form">
      <div class="form-group " ng-show="!editing">
       <label>User Name (must be unique to the system)</label>
       <input class="form-control" type="text" ng-model="user.username" >
      </div>
      <div class="form-group " ng-show="!editing">
       <label>Password </label>
       <input class="form-control" type="text" ng-model="user.password" >
      </div> 
		  <div class="form-group ">
			 <label>First Name </label>
			 <input class="form-control" type="text" ng-model="user.firstName" >
			</div>
			<div class="form-group ">
				<label>Last Name</label>
				<input class="form-control" type="text" ng-model="user.lastName">
			</div>
			<div class="form-group ">
			 <label>Email</label>
				<input class="form-control" type="email" ng-model="user.email" >
			</div>
			<div class="form-group ">
        <label>Groups (first in list will be default)</label>
        <ui-select multiple theme="bootstrap" ng-model="bsObj.editedUserGroups">
          <ui-select-match placeholder="Select groups...">
            <span ng-bind="select.selected"></span>{{$item.name}}
          </ui-select-match>
          <ui-select-choices repeat="g in (userGroups | filter: select.search) track by g.name ">
            <span ng-bind="g.name"></span>
          </ui-select-choices>
        </ui-select> 
			</div>
			<div  class="form-group ">
    	 <label>Super User</label>
    	 <ui-select theme="bootstrap" ng-model="user.superuser">
                  <ui-select-match>
                        {{$select.selected}}
                    </ui-select-match>
            				<ui-select-choices repeat="g in ['true','false']">
              					{{g}}
            				</ui-select-choices>
          		</ui-select>
  		</div>
  		<div class="form-group ">
    					<label>Active </label>
    			 		<ui-select theme="bootstrap" ng-model="user.active">
                <ui-select-match>
                        {{$select.selected}}
                    </ui-select-match>
                    <ui-select-choices repeat="g in ['true','false']">
                        {{g}}
                    </ui-select-choices>
              </ui-select>
  		</div>
      <div class="form-group ">
  				<input type="button" class="btn btn-primary" ng-click="clearMessages();saveNewUser()" value ="Add User" ng-show="!editing">	
					<input type="button" class="btn btn-primary" ng-click="clearMessages();updateUser()" value ="Update User" ng-show="editing">
					<input  type="button" class="btn" ng-click="clearMessages();listUsers()" value ="Cancel">
					 <!-- debugging
					 <pre>selu = {{selectedUser[0] | json }}</pre>
					 <pre>u = {{user | json}}</pre>
					 -->
			</div>
			</form>
		</div>
	</div>